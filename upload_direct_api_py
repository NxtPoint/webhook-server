import requests

video_url = "https://uc837909a9a7a65b5975e54ef1a6.dl.dropboxusercontent.com/scl/fi/v90hnxu7lebkrhn1a9rli/dejan_forehand_compressed.mp4?rlkey=ti9ikgwzrsfi9d8tmzkf5v7y8&st=siieagke&raw=1"
url = "https://api.sportai.io/api/statistics"

headers = {
    "Authorization": "Bearer qA3X6Tg6Ac8Gixyqv7eQTz999zoXvgRDlFTryanrST",
    "Content-Type": "application/json"
}

payload = {
    "video_url": video_url,
    "processing_windows": [
        {
            "start_time": 0,
            "stop_time": 20   # assuming 20-second video
        }
    ],
    "version": "latest"
}

print("📤 Sending payload...")
print(payload)

response = requests.post(url, json=payload, headers=headers)

print("✅ Status:", response.status_code)
try:
    print("📄 Response:", response.json())
except Exception as e:
    print("❌ Error parsing response:", e)
    print(response.text)
